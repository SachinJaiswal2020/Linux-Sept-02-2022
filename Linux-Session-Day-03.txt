Linux-Session-03 - 'Day-03':-

##########
Dtae:- 02-Sept-2022 - Linux Session:-
===================================
Table of Contents:-

Phase-01:-
1. Introduction to Enterprise Linux, and basic understanding/usages of Linux OS.
2. Editor understanding (vim).
3. User/Group management.
4. Linux Permission model.

Phase-02:-
5. Installation of Linux OS (Enterprise Server OS).
6. Processes Management (When any program under execution become a process- Will discuss this)
7. Booting sequence (Complate booting processes involved, How your Enterprise Linux OS starts and be ready for any appliactions deployment).

Phase-03:-
8. File System/Disk management (Linux Partitions - MBR & GPT, Linux File Systems, Moutning etc).
9. Logical Volume Manager (Linux Partition, PV, VG and lvm etc).
10. Swap management.
11. RAID Management.

Phase-04:-
12. Package management uging "yum" and "rpm".
13. Package management using Source.

Phase-05:-
14. Standard I/O Pipes.
15. STDIN 
16. STDOUT
17. STDINT
18. Essential System Administration Tools 

Phase-06:- 
19. Networking Services 
20. Network CLients.
21. Network COnfiguration.
22. Network file sharing services (FTP/NFS/Samaba etc).

Pahse-07:- 
22. Troubleshooting
23. Linux Bind 
24. Linux apache 
25. Linux Squid 
26. Linux Mail srvers.

Mock examples (hand-on based Test). 
##########
Phase-01:-
1. Introduction to Enterprise Linux, and basic understanding/usages of Linux OS.
2. Editor understanding (vim).
3. User/Group management.
4. Linux Permission model.


### Concepts - Installation of EL on system (Physical/Virtual)
  
Physical machine - Laptop/Dell-PowerEdge servers/ HP GEN X / IBM Power/SOme model Blade server/etc.
Virtual Machine  - Virtual machines serve same applications as physical machines.
NOte: ***
 - Virtual machine installed on hypervisor (Hypervisor - It's OS which allow to create Virtual machine).
 - Those virtual machine having guest operating systems, later DB or middleware installed on OS and run the application.
 - Hypervisor (3rd part based software) - which allow to create VIrtual machine.
 - Hypervisor used here is - "Oracle Virtual Box" ( INstalled this on your system).
 - We have used CentOS 7.9 with x86_64 arch and build the OS, Also we have mounted the same ISO on your system.
 - We have used GNOME (GUI interface) and bash (CLI Interface).
 
 - Commands 
 - User & Group management:-
   
  #Users:-
   Create user - useradd 
   Delete user - userdel 
   Modify user - usermod
   
   useradd <user_name> 
   Eg:
   useradd john 
   useradd tom 
   
   
  #Groups:-
   Create group - groupadd 
   Delete group - groupdel 
   modify group - groupmod   
   
  #groupadd <group_name>
	Eg:
	  groupadd unix_team
 
  #passwd (Set password for users).
   passwd <user_name>(as root user).
   passwd john 
   Type:
   retype:
   
   group = unix_team
   useradd -g <primary_group_name> <user_name>
   Eg:
     useradd -g unix_team john  (unix_team is a primary group of john)
	 usermod -G unix_team tom   (unix_team is a secoundry group of yom)
   
   

LAB-01
Create groups:-
unix_adm 
db_adm
devops 
app1
app2 

   
  - Create user = user1 to user5  (belongs to unix_adm)
  - Create user = user6 to user10  (belongs to db_adm)
  - Create user = user11 to user15  (belongs to devops)
  - Create user = user16 to user20  (belongs to app1)
  - Create user = user21 to user25  (belongs to app2)
 
 
   - pAssword for all users is "redhat"
 
 =================================================
 LAB-02:-
 
 groupadd project 
 Assign "project" group to all users (user1 to 40)
 usermod -G project user1 
 usermod -G project user2 
 
 So that user1 will be a part of unix_adm & project.
 
 
 mkdir /Project 
 cd /Project 
 mkdir UNIX DB DEVOPS APP1 APP2 
 chmod 770 /Project 
 chmod 770 UNIX
 chmod 770 DB
 chmod 770 DEVOPS
 chmod 770 APP1
 chmod 770 APP2
 
 pwd
 /Project 
 chown root:unix_adm UNIX 
 chown root:db_adm DB 
 chown root:devops DEVOPS
 chown root:app1 APP1
 chown root:app2 APP2
 
 
 Example:- 
 echo "redhat | passwd --stdin user_name
 echo "redhat | passwd --stdin user1 
 
 ===========
 - NOw only those users part of "project" group can only access "/Project"
 - And everyone can do work on their project only.
 
==========================================================
SOlution:-
#####
- Group Creation:-
for group_name in unix_adm db_adm devops app1 app2 ; do groupadd ${group_name} ; done

- Group Delete 
for group_name in unix_adm db_adm devops app1 app2 ; do groupdel ${group_name} ; done

#####

user1 to user5 (unix_adm group).
- User Creation:-
for user_name in {1..5} ; do useradd -g unix_adm user${user_name}; echo redhat | passwd --stdin user${user_name} ; done

- Delete all users:-
for user_name in {1..5} ; do userdel -r user${user_name} ; done



==============

user6 to user10 (db_adm group).
- User Creation:-
for user_name in {6..10} ; do useradd -g db_adm user${user_name}; echo redhat | passwd --stdin user${user_name} ; done

- Delete all users:-
for user_name in {6-10} ; do userdel -r user${user_name} ; done


============

user11 to user15 (devops group).
- User Creation:-
for user_name in {11..15} ; do useradd -g devops user${user_name}; echo redhat | passwd --stdin user${user_name} ; done

- Delete all users:-
for user_name in {11..15} ; do userdel -r user${user_name} ; done


===================

user1 to user5 (app1 group).
- User Creation:-
for user_name in {16..20} ; do useradd -g app1 user${user_name}; echo redhat | passwd --stdin user${user_name} ; done

- Delete all users:-
for user_name in {16..20} ; do userdel -r user${user_name} ; done



=====================================================

user1 to user5 (app2 group).
- User Creation:-
for user_name in {20..25} ; do useradd -g app2 user${user_name}; echo redhat | passwd --stdin user${user_name} ; done

- Delete all users:-
for user_name in {20..25} ; do userdel -r user${user_name} ; done


============
mkdir -p /project/{UNIX,DB,APP1,APP2,DEVOPS}
chmod 770 /project
cd /project 
chmod 770 UNIX 
chmod 770 DB 
chmod 770 DEVOPS 
chmod 770 APP1
chmod 770 APP2

ls -l 

 chown root:unix_adm UNIX 
 chown root:db_adm DB 
 chown root:devops DEVOPS
 chown root:app1 APP1
 chown root:app2 APP2

==================================================
======================
Note: Setup the network configuration:-
Login as root user.

Open "Oracle Virtual Box". Click on "Setting", Click on "Network", Click on "Adapter 1", 
Click and Select [Attached to:  "Host-Only Adapter"], click on ok 


# cd /etc/sysconfig/network-scripts/
# ls -l ifcfg-enp0s3 
# ifconfig | grep -i flags | grep -i broad | grep -i runn 
# vim ifcfg-enp0s3
press "i" key for insert mode.
ONBOOT=yes
press "esc" key for lock mode
:wq 

# ifup enp0s3
# ifconfig  (get your IP address).

=============
Putty download link:-
https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html


Mputty link.
https://ttyplus.com/downloads/
MTPUTTY NO-INSTALLATION (PORTABLE)



Open mputty and setup the IP.
====================================================================================
Lab-01-Disk Management


Disk/File System Management.

####
Step 1) Add additional disk of 2GB to your server (server01).
- Poweroff the server.
- Open "Oracle Virtual Box". Click on "Setting", Click on "Storage", Controller-Sata- Click on "Add Hard Disk" button, clieck on "Create Hard disk" and complete the process.
- Poweron the server and verify your disk.

# parted -l 
# fdisk -l | grep "Disk /dev/sd" 


Verify: # fdisk -l | grep "Disk /dev/sd"

####
Step 2) Using the mentioned disk.

Now Create Linux disk partitions (MBR-primary partition) on additional disk (/dev/dvb).
  
  # parted /dev/sdb  (Interactive interface).
  
  [root@chandra-trainer-server01 ~]# parted /dev/sdb
GNU Parted 3.1
Using /dev/sdb
Welcome to GNU Parted! Type 'help' to view a list of commands.
(parted) help

(parted) mkpart
Partition type?  primary/extended? primary
File system type?  [ext2]? ext4
Start? 2048s
End? 250M
(parted) print
Model: ATA VBOX HARDDISK (scsi)
Disk /dev/sdb: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End    Size   Type     File system  Flags
 1      1049kB  250MB  249MB  primary

(parted) help
  align-check TYPE N                        check partition N for TYPE(min|opt) alignment
  help [COMMAND]                           print general help, or help on COMMAND
  mklabel,mktable LABEL-TYPE               create a new disklabel (partition table)
  mkpart PART-TYPE [FS-TYPE] START END     make a partition
  name NUMBER NAME                         name partition NUMBER as NAME
  print [devices|free|list,all|NUMBER]     display the partition table, available devices, free space,
        all found partitions, or a particular partition
  quit                                     exit program
  rescue START END                         rescue a lost partition near START and END

  resizepart NUMBER END                    resize partition NUMBER
  rm NUMBER                                delete partition NUMBER
  select DEVICE                            choose the device to edit
  disk_set FLAG STATE                      change the FLAG on selected device
  disk_toggle [FLAG]                       toggle the state of FLAG on selected device
  set NUMBER FLAG STATE                    change the FLAG on partition NUMBER
  toggle [NUMBER [FLAG]]                   toggle the state of FLAG on partition NUMBER
  unit UNIT                                set the default unit to UNIT
  version                                  display the version number and copyright information of GNU
        Parted
(parted) mkpart
Partition type?  primary/extended?
Partition type?  primary/extended? primary
File system type?  [ext2]? ext4
Start? 250M
End? 500M
(parted) print
Model: ATA VBOX HARDDISK (scsi)
Disk /dev/sdb: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End    Size   Type     File system  Flags
 1      1049kB  250MB  249MB  primary
 2      250MB   500MB  251MB  primary

(parted) mkpart
Partition type?  primary/extended? primary
File system type?  [ext2]? ext4
Start? 501M
End? 750M
(parted) print
Model: ATA VBOX HARDDISK (scsi)
Disk /dev/sdb: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End    Size   Type     File system  Flags
 1      1049kB  250MB  249MB  primary
 2      250MB   500MB  251MB  primary
 3      501MB   750MB  249MB  primary

(parted) mkpart
Partition type?  primary/extended? primary
File system type?  [ext2]? ext4
Start? 751M
End? 1025M
Warning: The resulting partition is not properly aligned for best performance.
Ignore/Cancel? ignore
(parted) print
Model: ATA VBOX HARDDISK (scsi)
Disk /dev/sdb: 2147MB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size   Type     File system  Flags
 1      1049kB  250MB   249MB  primary
 2      250MB   500MB   251MB  primary
 3      501MB   750MB   249MB  primary
 4      751MB   1025MB  274MB  primary

(parted) mkpart
Error: Can't create any more partitions.
(parted)


  
  or 
  # parted /dev/sdb mklabel msdos 
  # parted /dev/sdb mkpart primary ext4 2048s 200MB
  # parted /dev/sdb mkpart primary ext4 201MB 401MB
  # parted /dev/sdb mkpart primary ext4 402MB 602MB
  # parted /dev/vdb mkpart primary ext4 603MB 804MB
  # udevadm settle
  
 MBR-primary partition.
 ONly 4 primary partition can be created 
 ==============
 
# lsblk 
NOte: Display all device tree structure 


# mkfs.ext4 /dev/sdb1
# blkid /dev/sdb1 
UUID="ksjd:aksjdhsaj5:lajdhaksu8:kjjashdkj999"
# mkdir /mp_sdb1 
# mount /dev/sdb1 /mp_sdb1 
# df -THP 
You should be able to see the mount point, able to update the data to the device (d/dev/sdb).







  
  